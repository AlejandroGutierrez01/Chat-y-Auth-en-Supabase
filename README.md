
# Chat en Línea con Ionic y Supabase - Deber de Repaso

Una app sencilla de chat en tiempo real, creada con Ionic y potenciada por Supabase como backend. Los usuarios pueden registrarse, iniciar sesión, confirmar su correo y empezar a chatear con cualquier persona conectada.

## Desarrollado por
- Isaac Quinapallo
- Alejandro Gutierrez

Este proyecto esta basado en el tutorial de Devdactic:_ [Supabase & Ionic - Build a Realtime Chat App](https://devdactic.com/supabase-ionic)

---

## Funcionalidades de la App

- **Autenticación de Usuarios**
  - Registro e inicio de sesión.
  - Confirmación de correo electrónico mediante enlace.
- **Chat en Tiempo Real**
  - Visualización de mensajes instantáneos.
  - Muestra del remitente y hora del mensaje.
- **Gestión de Sesión**
  - Cierre de sesión disponible.

## Herramientas usadas

- **Ionic Framework** (Angular)
- **Supabase **
  - Autenticación
  - Database basada en Postgre
- **TypeScript**

## Antes de comenzar...

- Node.js y npm instalados
- Ionic CLI: `npm install -g @ionic/cli`
- Cuenta de Supabase: [https://supabase.com](https://supabase.com)

## ¿Cómo lo pongo a funcionar?

1. **Clonar el Repositorio**
    ```bash
    git clone https://github.com/AlejandroGutierrez01/Chat-y-Auth-en-Supabase.git
    cd Chat-y-Auth-en-Supabase
    ```

2. **Instalar Dependencias**
    ```bash
    npm install
    ```

3. **Configurar Supabase**

### Crear Proyecto y Credenciales

1. Crea un nuevo proyecto en [Supabase](https://supabase.com).
2. En **Project Settings > API**, copia tu `Project URL` y `anon public key`.
3. Crea/modifica `src/app/supabase.client.ts` con:
    ```ts
    import {createClient} from  '@supabase/supabase-js'

    const supabaseUrl = "https:*tucodigo*.supabase.co"
    const supabaseKey = '*tuapikey*';

    export const supabase = createClient(supabaseUrl, supabaseKey)
    ```

### Crear tabla `messagesChat` en supabase

```sql
CREATE TABLE public.messagesChat (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
  content TEXT,
  email TEXT
);
```

![Tabla creada](https://github.com/user-attachments/assets/e0312c55-a61b-4fab-aefe-95ead2588629)

### Habilitar Politicas para insertar y ver datos

1. Ve a **Authentication > Policies**
2. Selecciona `messagesChat` y haz clic en **"Enable RLS"**
3. Crea las siguientes políticas:

#### Lectura

- **Nombre:** Allow authenticated read access
- **Rol:** authenticated
- **Expresión:** `true`
- **Operación:** SELECT

#### Escritura

- **Nombre:** Allow individual insert access
- **Rol:** authenticated
- **Expresión:** `auth.email() = email`
- **Operación:** INSERT

![Políticas de seguridad](https://github.com/user-attachments/assets/eff926d7-88ff-4e8b-ab5c-b922e43a5245)

---


## Vista de la app

### Confirmación de Email
![Confirmación Email](https://github.com/user-attachments/assets/d23e4d12-25ef-46c6-9e0a-79978dd6c738)

### Registro Exitoso
![Registro Exitoso](https://github.com/user-attachments/assets/6105fb17-8843-47b1-8793-c96c267c50d1)

### Login / Registro
![Login](https://github.com/user-attachments/assets/f72ab319-1ef7-421c-b265-a5e67474e9be)

### Interfaz del Chat
![Chat General](https://github.com/user-attachments/assets/a4ed1716-7e89-4d03-bcac-bcb33be7f1f3)

### Envío de Mensajes
![Enviando](https://github.com/user-attachments/assets/86cf7236-c49d-475e-9656-4bb8238c17bc)

---
